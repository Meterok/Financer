# SuperFinancer
SuperFinancer – это приложение для тех, кто интересуется деньгами и всем, что с этим связано.

# Сборка

- Склонируйте репозиторий

```bash
git clone https://gitlab.prodcontest.ru/2025-final-projects-mobile/PotaninPM.git
```

- `Внимание!` Так как в проекте используются не только api ключи NYTimes и Finnhub, то все эти ключи вынесены в проекте в ApiConstants.kt в common модуле, поэтому самим генерить и вставлять их не нужно!

- Создайте файл `local.properties` в корне проекта и запишите в него локацию SDK

```properties
sdk.dir=/.../.../Android/Sdk
```

- Можете запускать!
При сборке релизной версии приложения применяется обфускация, настроенная в gradle модуля `app` (`isMinifyEnabled`).

# Обоснование принятых решений

### Использование библиотек:

1. Jetpack Compose был выбран как один из наиболее рекомендуемых подходов от Google. Наше приложение планирует развиваться, мы не хотим отставать от времени, поэтому решили сразу писать на самых современных технологиях. В будущем переписывать проект с View на Compose будет сложнее, дольше и дороже.

2. Koin – это легковесный инструмент для внедрения зависимостей, полностью написанный на Kotlin. Он позволяет легко организовать DI, избавляя от шаблонного кода и сложной конфигурации, характерной для Dagger. Koin интегрируется с Jetpack Compose и Android архитектурными компонентами. Его простота использования и гибкость способствуют быстрому прототипированию и масштабированию проекта. Это делает его отличным выбором для обеспечения модульности и тестируемости приложения.

3. Retrofit + OkHttp был выбран как один из самый зарекомендовавших себя библиотек в сообществе. По ним есть много ответов на вопросы.

4. Gson используется для преобразования объектов в JSON и обратно, что удобно при работе с REST API. Он прост в использовании, быстро выполняет сериализацию и десериализацию данных. Благодаря гибкой настройке, Gson легко адаптируется под сложные структуры данных. Это помогает обеспечить совместимость с серверными API, которые используют JSON. Его стабильность и широкое распространение делают его надёжным выбором для работы с JSON.

5. Kotlinx Serialization – это нативное средство сериализации для Kotlin, которое обеспечивает высокую производительность. Оно позволяет легко преобразовывать объекты в JSON и обратно, используя аннотации и компиляторскую поддержку. Библиотека интегрируется с Kotlin Coroutines и другими современными инструментами, что упрощает работу с асинхронными данными. Его использование способствует более чистому и типобезопасному коду при работе с JSON.

6. Room обеспечивает удобное и безопасное взаимодействие с SQLite-базой данных, предоставляя слой абстракции поверх базы. Он упрощает выполнение запросов и управление миграциями схемы. Room использует аннотации, что позволяет минимизировать количество шаблонного кода и улучшает читаемость. Благодаря поддержке Kotlin Coroutines и Flow, Room легко интегрируется с современными архитектурными подходами. Это помогает обеспечить производительное и масштабируемое локальное хранилище данных. А также у Room есть огромная поддержка от Google и сообщества разработчиков.

7. Coil – это современная библиотека для загрузки изображений в Android, полностью написанная на Kotlin. Она оптимизирована для работы с Jetpack Compose и поддерживает асинхронную загрузку, кэширование и обработку изображений. Coil обладает малым размером и высокой производительностью, что делает её идеальной для мобильных приложений.

8. Kotlin Coroutines – это легковесный фреймворк для асинхронного программирования. С помощью корутин можно легко управлять фоновыми задачами, такими как сетевые запросы или обработка больших данных, без блокировки главного потока.

9. Jetpack Navigation - самое удобное и простое средство для навигации в приложении. 

### Архитектура:

Приложение построено на основе Clean Architecture с использованием паттерна feature modules и архитектуры MVVM.

## Clean Architecture

- Разделяет код на независимые слои для упрощения разработки.
- Упрощает тестирование

## Feature modules

- Каждая функциональность выделена в отдельный модуль, что способствует масштабируемости и удобству разработки.
- Изменение одной фичи не требует пересборки всего проекта.

## MVVM

- Отделяет логику отображения от бизнес-логики, обеспечивая разделение ответственности и облегчая работу с UI.

## Структура проекта

- `app` -  основной модуль приложения, в котором настраиваются фреймворки Koin и Jetpack Navigation.
- `common` - общие компоненты и функции приложения
- `feature_home` - модуль, содержащий главный экран и функциональность поиска.
- `feature_finances` - модуль с финансовым помощником для управления сбережениями и целями.
- `feature_feed` - модуль для функционала социальной сети, включая посты и ленту.

Многомодульная архитектура была выбрана для упрощения тестирования, поддержки, разделения ответственности, читаемости. Также использование такого подхода в разы увеличивает скорость сборки приложения. Все фичи разделены на data, domain и presentation, что разделяет ответственность на логические участки кода. Это помогает при тестировании и поддержке.

# Реализованные дополнительныефичи:

### Главная страница:
<div style="display: flex; flex-wrap: wrap;">
    <img src="screenshots/home_screen_dark.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px;"/>
    <img src="screenshots/home_screen_light.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px; margin-left: 10px"/>
</div>

1. PullToRefresh на главной странице.
2. Шиммер во время загрузки главной, поиска.
3. Пагинация в Поиске для новостей.
4. Добавлен срок актуальности данным в кэше. Кэш считается актуальным только в течение 6 часов (в противном случае получаем заново с сервера).
5. Локальный конфиг тикеров вынес в ремоут хранилище (Supabase - opensource аналог Firebase).
6. Обновление тикеров кнопкой либо настройка автообновления раз в N секунд (кнопка настроек на главной странице).
7. Работает голосовой ввод в поиске.
8. Категории - при нажатии на иконку фильтра рядом с `Новости` появляется список категорий, при выборе которых происходит фильтрация новостей.
### Финансы:
<div style="display: flex; flex-wrap: wrap;">
    <img src="screenshots/finances_stat.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px;"/>
    <img src="screenshots/finances_operations.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px; margin-left: 10px; margin-left: 10px"/>
</div>

1. Менеджер счетов (переводы между счетами, снятие со счетов).
2. Отображается дополнительно: Сколько осталось времени до достижения всех целей, средние поступления за месяц, сколько осталось копить (денег).
3. Если цель уже прошла или до нее остался 1 день то появляется определенный текст в дате и она окрашивается в другой цвет.
### Лента:
<div style="display: flex; flex-wrap: wrap;">
    <img src="screenshots/posts_main.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px;"/>
    <img src="screenshots/post_comments.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px; margin-left: 10px"/>
</div>

1. Функциональность профиля и отображения авторов постов. Плюс сюда же функицонал с комментариями под постами(все локально).
2. Система отображения фотографий(до 4 включая в особом виде, дальше как горизонтальный список).
3. Текст ограничен 3мя строками. Если текст больше, то появляется кнопка "Еще" и раскрывает весь пост, а также появляется кнопка "скрыть", которая обратно возвращает состояние текста.
### Общие:
<div style="display: flex; flex-wrap: wrap;">
    <img src="screenshots/ai_thinks.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px;"/>
    <img src="screenshots/big_image.png" alt="drawing" style="width: 30%; height: auto; margin-bottom: 10px; margin-left: 10px"/>
</div>

1. Добавлена нейросеть(`meta-llama/llama-3.3-70b-instruct`) для анализа финасового состояния кампании (при нажатии на тикер bottom sheet появляется), так же если зажать текст который она выдала можно скопировать его в буфер обмена. (работает как на главной так и в поиске).
2. Возможность открывать картинки в любом месте приложения в полный размер(при нажатии на них).
3. Добавлен сбор аналитики по действиям пользователя (локальные логи).

#### Про работу в репозитории

Была использована одна ветка `master`, все сразу пушилось в нее, так как над проектом работал один человек и сроки были достаточно ограничены.

При написании сообщений к коммитам использовался [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)